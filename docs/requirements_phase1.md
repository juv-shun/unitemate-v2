# フェーズ1要件定義（改定版）

## 1. 目的
マッチ成立後のロビー共有までを、シンプルな運用と低いネットワークコストで実現する。

## 2. 基本フロー
1. マッチ成立（10人）
2. ステータスを `lobby_pending` にする
3. 各ユーザーに「ロビーへ進む」ボタンを表示
4. チーム分け済みのメンバー一覧を表示
5. ロビーIDを入力・共有（早い者勝ちで上書き可）
6. **ロビーIDが入力済み** かつ **全員着席** になったら `in_game` に遷移

## 3. ロビーID
- 8桁の数字固定（先頭0を許可）
- 早い者勝ち（誰でも上書き可能）
- 入力者に限定せず上書き可能

## 4. 着席
- マッチング直後にロビーへ進むモーダルを表示して、押下することで、着席した状態でロビー画面に遷移できる。
- 着席/未着席の状態はメンバー一覧に反映される

## 5. ロビーに入れない（困り中）
- 各ユーザーが「ロビーに入れない」ボタンを押せる
- 押下したユーザーの席に「ロビーに入れない」と表示される
- 押下後は解除ボタンで解除できる

## 6. 通報
- 各チームのユーザーの横に「通報」ボタンを表示
- 通報時は以下を記録する
  - マッチ成立日時
  - 通報日時
  - 通報理由

## 7. ステータス遷移
- マッチ成立時: `lobby_pending`
- ロビーID入力済み かつ 全員着席: `in_game`

## 8. 非要件（フェーズ1では対応しない）
- ドラフト開始/進行の自動遷移
- ロビーID入力のタイムアウトや自動再抽選
