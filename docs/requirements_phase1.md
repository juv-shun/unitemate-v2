# フェーズ1要件定義（改定版）

## 1. 目的
マッチ成立後のロビー共有までを、シンプルな運用と低いネットワークコストで実現する。

## 2. 基本フロー
1. マッチ成立（10人）
2. ステータスを `lobby_pending` にする
3. チーム分け済みのメンバー一覧を全員に表示
4. 各ユーザーが「着席」ボタンを押す（在席意思表示）
5. ロビーIDを入力・共有（早い者勝ちで上書き可）
6. **ロビーIDが入力済み** かつ **全員着席** になったら `in_game` に遷移
7. `in_game` 後もロビーIDの上書きと「困り中」表示を継続できる

## 3. ロビーID
- 8桁の数字固定（先頭0を許可）
- 早い者勝ち（誰でも上書き可能）
- 入力者に限定せず上書き可能（`in_game` 後も許可）

## 4. 着席
- 各ユーザーが「着席」ボタンを押せる
- 着席/未着席の状態はメンバー一覧に反映される

## 5. ロビーに入れない（困り中）
- 各ユーザーが「ロビーに入れない」ボタンを押せる
- 押下したユーザーの席に「困り中」であることが表示される
- 押下後は解除ボタンで解除できる
- `in_game` 後も有効

## 6. 通報
- 各チームの **未着席ユーザー** の横に「通報」ボタンを表示
- 通報時は以下を記録する
  - マッチ成立日時
  - 通報日時
- 通報により「長らく着席しないユーザー」であることが分かるようにする

## 7. ステータス遷移
- マッチ成立時: `lobby_pending`
- ロビーID入力済み かつ 全員着席: `in_game`

## 8. 非要件（フェーズ1では対応しない）
- ドラフト開始/進行の自動遷移
- ロビーID入力のタイムアウトや自動再抽選
