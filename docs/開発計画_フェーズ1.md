# ユナメイト 開発計画（フェーズ1 分割）

本書はフェーズ1（MVP）を小さなリリース単位に分割し、各単位の手動確認可能な受け入れ条件を定義する。

---

## フェーズ1.1 認証・プロフィール最小構成

### 目的
- ユーザーがログインし、表示名を設定できる状態を作る。

### 受け入れ条件（手動確認）
- 新規ユーザーでログインできる（認証成功でホームへ遷移する）。
- 表示名を編集し、再読み込みしても表示名が保持されている。
- ログアウト後、保護画面に直接アクセスしてもログイン画面へ戻される。

---

## フェーズ1.2 インキュー開始/停止

### 目的
- キュー参加とキャンセルができる。

### 受け入れ条件（手動確認）
- 「インキュー開始」ボタン押下でキュー状態が「待機中」に切り替わる。
- 「キャンセル」ボタン押下でキュー状態が解除される。
- 画面をリロードしても、キュー状態が正しく復元される。

---

## フェーズ1.3 マッチ成立（ランダム10人）

### 目的
- 10人でマッチが成立し、チーム/先攻後攻が決定される。

### 受け入れ条件（手動確認）
- 10人分のユーザーが待機中の状態で、マッチが成立する。
- 成立後、チーム分け（5人ずつ）が画面に表示される。
- 先攻/後攻が表示される。

---

## フェーズ1.4 ドラフト進行（BAN/PICK）

### 目的
- BAN/PICKのターン制ドラフトが進行できる。

### 受け入れ条件（手動確認）
- BAN/PICKの順序が要件どおりに進む（BAN 6回、PICK 10回）。
- 自分のターンでのみ確定操作が可能になる。
- ターン制限時間が表示され、期限後に自動確定される。
- 同一ポケモンの重複BAN/PICKができない。

---

## フェーズ1.5 リクエスト/承認（BAN/PICK）

### 目的
- 担当者以外がリクエストし、担当者が承認できる。

### 受け入れ条件（手動確認）
- 担当者以外がリクエストを送信できる。
- リクエストがチーム内に表示される。
- 担当者が承認すると、そのポケモンで即時確定する。
- ターン終了後、未承認リクエストは無効になる。

---

## フェーズ1.6 ホスト抽選とロビーID共有

### 目的
- ドラフト完了後にホスト抽選が行われ、ロビーIDを共有できる。

### 受け入れ条件（手動確認）
- ドラフト完了後、ホストがランダムに表示される。
- ホストのみがロビーIDを入力できる。
- 入力したロビーIDが全員に表示される。
- 入力期限を超えると再抽選が行われる（1回まで）。
- 再抽選でも未入力の場合、試合が無効になる。

---

## フェーズ1.7 試合開始案内

### 目的
- ロビーID共有後、試合開始の案内が表示される。

### 受け入れ条件（手動確認）
- ロビーID確定後、試合開始手順の画面が表示される。
- 画面にロビーIDが再掲される。

---

## フェーズ1.8 例外/エラーハンドリング

### 目的
- 主要な異常系が画面上で案内される。

### 受け入れ条件（手動確認）
- 通信エラー時にエラー画面/トーストが表示される。
- エラーから「再試行」できる。
- 致命的エラー時にホームへ戻れる。
